<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>注文書（A4）</title>
    <link rel="stylesheet" href="../css/sidebar.css">
    <link rel="stylesheet" href="../css/order_form.css">
</head>
<body>
    <!-- ハンバーガーメニューボタン -->
    <div class="menu-btn" id="menuBtn" style="display:block; position:fixed; top:20px; left:20px; z-index:1001;">&#9776;</div>
    <!-- サイドバー背景（モーダル用） -->
    <div class="sidebar-bg" id="sidebarBg"></div>
    <!-- サイドバー -->
    <nav class="sidebar" id="sidebar">
        <span class="sidebar-close" id="sidebarClose" style="display:none; position:fixed; top:20px; left:20px; z-index:1002; font-size:2em; cursor:pointer;">&times;</span>
        <ul>
            <li><a href="/">・<u>HOME</u></a></li>
            <li><a href="/html/order_list.html">・注文書一覧</a></li>
            <li><a href="/html/delivery_list.html">・納品書一覧</a></li>
            <li><a href="/html/statistics_list.html">・統計情報一覧</a></li>
            <li><a href="/html/customer_register.html">・顧客情報登録</a></li>
        </ul>
    </nav>
    <!-- メインコンテンツ -->
    <div class="main" id="main">
        <!-- A4注文書本体 -->
        <div class="a4-sheet">
            <h1 class="order-title" style="text-align:center;letter-spacing:0.3em;font-size:2.1em;margin-bottom:32px;">注文書</h1>
            <div style="display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;gap:40px;">
                <!-- 左側：顧客情報 -->
                <div style="flex:1;min-width:340px;max-width:420px;">
                    <div style="margin-bottom:12px;">
                        <span style="font-size:1.1em;">顧客ID：</span>
                        <input type="text" id="customerId" class="input-meta" style="width:220px;border:none;border-bottom:2px solid #222;font-size:1.1em;vertical-align:middle;">
                    </div>
                    <div style="margin-bottom:8px;">
                        <input type="text" id="customerName" class="input-meta" style="width:220px;font-size:1.3em;text-align:center;border:none;background:transparent;letter-spacing:0.3em;" placeholder="○○○○○○○○○○" readonly> 様
                    </div>
                    <div style="margin-bottom:8px;color:#666;font-size:0.95em;">（お客様住所）</div>
                    <div style="margin-bottom:32px;">
                        <textarea id="customerAddress" class="input-meta" style="width:100%;height:38px;resize:none;border:none;border-bottom:1px dotted #888;" readonly></textarea>
                    </div>
                    <div style="border-bottom:1px dotted #888;height:18px;margin-bottom:32px;"></div>
                    <div style="display:flex;align-items:center;margin-top:32px;">
                        <span style="font-size:1.1em;">合計金額：</span>
                        <span style="font-size:2em;color:#222;font-weight:bold;margin:0 12px;">￥<span id="totalAmount">0</span></span>
                        <span style="font-size:1em;color:#666;">(税込)</span>
                    </div>
                </div>
                <!-- 右側：発注情報 -->
                <div style="flex:1;min-width:320px;max-width:400px;">
                    <div style="display:flex;justify-content:space-between;margin-bottom:8px;" id="orderNoRow">
                        <span style="font-size:1.1em;">注文書No.</span>
                        <input type="text" class="input-meta" id="orderNoInput" style="width:160px;text-align:right;border:none;font-size:1.1em;" placeholder="XXXXXXXXXX" readonly>
                    </div>
                    <div style="display:flex;justify-content:space-between;margin-bottom:18px;">
                        <span style="font-size:1.1em;">注文日：</span>
                        <input type="date" class="input-meta" style="width:160px;text-align:right;border:none;font-size:1.1em;">
                    </div>
                    <div style="font-weight:bold;font-size:1.1em;margin-bottom:2px;">緑橋書店</div>
                    <div style="margin-bottom:2px;">〒537-0022</div>
                    <div style="margin-bottom:2px;">大阪府大阪市東成区</div>
                    <div style="margin-bottom:2px;">中本１丁目５－２１</div>
                    <div style="margin-bottom:2px;">TEL：00-0000-0000</div>
                    <div style="margin-bottom:2px;">FAX：00-0000-0000</div>
                    <div style="margin-bottom:2px;">E-Mail xxxxxxxxxxxxxxxxxxxxxxxx</div>
                </div>
            </div>
            <table class="order-table">
                <tr>
                    <th>No.</th>
                    <th>書名</th>
                    <th>数量</th>
                    <th>単価</th>
                    <th>金額</th>
                </tr>
                <tr>
                    <td>1</td>
                    <td><input type="text" name="item1"></td>
                    <td><input type="number" name="qty1" style="width:60px;" oninput="toggleUnit(this, 'qty1-unit')"><span id="qty1-unit" style="font-size:0.95em;display:none;">点</span></td>
                    <td><input type="number" name="price1" style="width:80px;" oninput="toggleUnit(this, 'price1-unit')"><span id="price1-unit" style="font-size:0.95em;display:none;">円</span></td>
                    <td><input type="number" name="amount1" style="width:90px;" oninput="toggleUnit(this, 'amount1-unit')"><span id="amount1-unit" style="font-size:0.95em;display:none;">円</span></td>
                </tr>
                <tr>
                    <td>2</td>
                    <td><input type="text" name="item2"></td>
                    <td><input type="number" name="qty2" style="width:60px;" oninput="toggleUnit(this, 'qty2-unit')"><span id="qty2-unit" style="font-size:0.95em;display:none;">点</span></td>
                    <td><input type="number" name="price2" style="width:80px;" oninput="toggleUnit(this, 'price2-unit')"><span id="price2-unit" style="font-size:0.95em;display:none;">円</span></td>
                    <td><input type="number" name="amount2" style="width:90px;" oninput="toggleUnit(this, 'amount2-unit')"><span id="amount2-unit" style="font-size:0.95em;display:none;">円</span></td>
                </tr>
                <tr>
                    <td>3</td>
                    <td><input type="text" name="item3"></td>
                    <td><input type="number" name="qty3" style="width:60px;" oninput="toggleUnit(this, 'qty3-unit')"><span id="qty3-unit" style="font-size:0.95em;display:none;">点</span></td>
                    <td><input type="number" name="price3" style="width:80px;" oninput="toggleUnit(this, 'price3-unit')"><span id="price3-unit" style="font-size:0.95em;display:none;">円</span></td>
                    <td><input type="number" name="amount3" style="width:90px;" oninput="toggleUnit(this, 'amount3-unit')"><span id="amount3-unit" style="font-size:0.95em;display:none;">円</span></td>
                </tr>
                <tr>
                    <td>4</td>
                    <td><input type="text" name="item4"></td>
                    <td><input type="number" name="qty4" style="width:60px;" oninput="toggleUnit(this, 'qty4-unit')"><span id="qty4-unit" style="font-size:0.95em;display:none;">点</span></td>
                    <td><input type="number" name="price4" style="width:80px;" oninput="toggleUnit(this, 'price4-unit')"><span id="price4-unit" style="font-size:0.95em;display:none;">円</span></td>
                    <td><input type="number" name="amount4" style="width:90px;" oninput="toggleUnit(this, 'amount4-unit')"><span id="amount4-unit" style="font-size:0.95em;display:none;">円</span></td>
                </tr>
                <tr>
                    <td>5</td>
                    <td><input type="text" name="item5"></td>
                    <td><input type="number" name="qty5" style="width:60px;" oninput="toggleUnit(this, 'qty5-unit')"><span id="qty5-unit" style="font-size:0.95em;display:none;">点</span></td>
                    <td><input type="number" name="price5" style="width:80px;" oninput="toggleUnit(this, 'price5-unit')"><span id="price5-unit" style="font-size:0.95em;display:none;">円</span></td>
                    <td><input type="number" name="amount5" style="width:90px;" oninput="toggleUnit(this, 'amount5-unit')"><span id="amount5-unit" style="font-size:0.95em;display:none;">円</span></td>
                </tr>
                <tr>
                    <td>6</td>
                    <td><input type="text" name="item6"></td>
                    <td><input type="number" name="qty6" style="width:60px;" oninput="toggleUnit(this, 'qty6-unit')"><span id="qty6-unit" style="font-size:0.95em;display:none;">点</span></td>
                    <td><input type="number" name="price6" style="width:80px;" oninput="toggleUnit(this, 'price6-unit')"><span id="price6-unit" style="font-size:0.95em;display:none;">円</span></td>
                    <td><input type="number" name="amount6" style="width:90px;" oninput="toggleUnit(this, 'amount6-unit')"><span id="amount6-unit" style="font-size:0.95em;display:none;">円</span></td>
                </tr>
                <tr>
                    <td>7</td>
                    <td><input type="text" name="item7"></td>
                    <td><input type="number" name="qty7" style="width:60px;" oninput="toggleUnit(this, 'qty7-unit')"><span id="qty7-unit" style="font-size:0.95em;display:none;">点</span></td>
                    <td><input type="number" name="price7" style="width:80px;" oninput="toggleUnit(this, 'price7-unit')"><span id="price7-unit" style="font-size:0.95em;display:none;">円</span></td>
                    <td><input type="number" name="amount7" style="width:90px;" oninput="toggleUnit(this, 'amount7-unit')"><span id="amount7-unit" style="font-size:0.95em;display:none;">円</span></td>
                </tr>
                <tr>
                    <td>8</td>
                    <td><input type="text" name="item8"></td>
                    <td><input type="number" name="qty8" style="width:60px;" oninput="toggleUnit(this, 'qty8-unit')"><span id="qty8-unit" style="font-size:0.95em;display:none;">点</span></td>
                    <td><input type="number" name="price8" style="width:80px;" oninput="toggleUnit(this, 'price8-unit')"><span id="price8-unit" style="font-size:0.95em;display:none;">円</span></td>
                    <td><input type="number" name="amount8" style="width:90px;" oninput="toggleUnit(this, 'amount8-unit')"><span id="amount8-unit" style="font-size:0.95em;display:none;">円</span></td>
                </tr>
                <tr>
                    <td>9</td>
                    <td><input type="text" name="item9"></td>
                    <td><input type="number" name="qty9" style="width:60px;" oninput="toggleUnit(this, 'qty9-unit')"><span id="qty9-unit" style="font-size:0.95em;display:none;">点</span></td>
                    <td><input type="number" name="price9" style="width:80px;" oninput="toggleUnit(this, 'price9-unit')"><span id="price9-unit" style="font-size:0.95em;display:none;">円</span></td>
                    <td><input type="number" name="amount9" style="width:90px;" oninput="toggleUnit(this, 'amount9-unit')"><span id="amount9-unit" style="font-size:0.95em;display:none;">円</span></td>
                </tr>
                <tr>
                    <td>10</td>
                    <td><input type="text" name="item10"></td>
                    <td><input type="number" name="qty10" style="width:60px;" oninput="toggleUnit(this, 'qty10-unit')"><span id="qty10-unit" style="font-size:0.95em;display:none;">点</span></td>
                    <td><input type="number" name="price10" style="width:80px;" oninput="toggleUnit(this, 'price10-unit')"><span id="price10-unit" style="font-size:0.95em;display:none;">円</span></td>
                    <td><input type="number" name="amount10" style="width:90px;" oninput="toggleUnit(this, 'amount10-unit')"><span id="amount10-unit" style="font-size:0.95em;display:none;">円</span></td>
                </tr>
                <tr>
                    <td>11</td>
                    <td><input type="text" name="item11"></td>
                    <td><input type="number" name="qty11" style="width:60px;" oninput="toggleUnit(this, 'qty11-unit')"><span id="qty11-unit" style="font-size:0.95em;display:none;">点</span></td>
                    <td><input type="number" name="price11" style="width:80px;" oninput="toggleUnit(this, 'price11-unit')"><span id="price11-unit" style="font-size:0.95em;display:none;">円</span></td>
                    <td><input type="number" name="amount11" style="width:90px;" oninput="toggleUnit(this, 'amount11-unit')"><span id="amount11-unit" style="font-size:0.95em;display:none;">円</span></td>
                </tr>
                <tr>
                    <td>12</td>
                    <td><input type="text" name="item12"></td>
                    <td><input type="number" name="qty12" style="width:60px;" oninput="toggleUnit(this, 'qty12-unit')"><span id="qty12-unit" style="font-size:0.95em;display:none;">点</span></td>
                    <td><input type="number" name="price12" style="width:80px;" oninput="toggleUnit(this, 'price12-unit')"><span id="price12-unit" style="font-size:0.95em;display:none;">円</span></td>
                    <td><input type="number" name="amount12" style="width:90px;" oninput="toggleUnit(this, 'amount12-unit')"><span id="amount12-unit" style="font-size:0.95em;display:none;">円</span></td>
                </tr>
                <tr>
                    <td colspan="4" class="right">小計</td>
                    <td>
                        <input type="number" class="input-total">
                        <span id="subtotal-unit" style="font-size:0.95em;display:none;">円</span>
                    </td>
                </tr>
                <tr>
                    <td colspan="4" class="right">消費税</td>
                    <td>
                        <input type="number" class="input-total">
                        <span id="tax-unit" style="font-size:0.95em;display:none;">円</span>
                    </td>
                </tr>
                <tr>
                    <td colspan="4" class="right">合計金額</td>
                    <td>
                        <input type="number" class="input-total">
                        <span id="total-unit" style="font-size:0.95em;display:none;">円</span>
                    </td>
                </tr>
            </table>
            <div class="order-remark-row" style="display:flex;align-items:flex-start;gap:8px;">
                <div style="font-size:16px;min-width:48px;text-align:left;">備考：</div>
                <textarea class="input-meta" style="width:90%;height:40px;resize:none;text-align:left;"></textarea>
            </div>
            <div class="btn-area">
                <button type="button" class="btn" id="saveBtn">保存</button>
                <button type="button" class="btn" id="printBtn" style="display:none;" onclick="window.print()">印刷</button>
            </div>
        </div>
    </div>
    <script src="../js/order_form.js"></script>
    <script>
    // サイドバー開閉
    const menuBtn = document.getElementById('menuBtn');
    const sidebar = document.getElementById('sidebar');
    const sidebarBg = document.getElementById('sidebarBg');
    const sidebarClose = document.getElementById('sidebarClose');
    function openSidebar() {
        sidebar.classList.add('open');
        sidebarBg.classList.add('show');
        menuBtn.style.display = 'none';
        sidebarClose.style.display = 'block';
    }
    function closeSidebar() {
        sidebar.classList.remove('open');
        sidebarBg.classList.remove('show');
        menuBtn.style.display = 'block';
        sidebarClose.style.display = 'none';
    }
    menuBtn.onclick = openSidebar;
    sidebarClose.onclick = closeSidebar;
    sidebarBg.onclick = closeSidebar;

    function toggleUnit(input, unitId) {
        const unitSpan = document.getElementById(unitId);
        if (!unitSpan) return;
        if (input.value && input.value.trim() !== '' && input.value !== '0') {
            unitSpan.style.display = '';
        } else {
            unitSpan.style.display = 'none';
        }
    }
    </script>
</body>
</html>