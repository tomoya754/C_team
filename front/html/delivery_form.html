<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>納品書（A4）</title>
    <link rel="stylesheet" href="../css/sidebar.css">
    <link rel="stylesheet" href="../css/delivery_form.css">
</head>
<body>
    <!-- ハンバーガーメニューボタン -->
    <div class="menu-btn" id="menuBtn" style="display:block; position:fixed; top:20px; left:20px; z-index:1001;">&#9776;</div>
    <!-- サイドバー背景（モーダル用） -->
    <div class="sidebar-bg" id="sidebarBg"></div>
    <!-- サイドバー -->
    <nav class="sidebar" id="sidebar">
        <span class="sidebar-close" id="sidebarClose" style="display:none; position:fixed; top:20px; left:20px; z-index:1002; font-size:2em; cursor:pointer;">&times;</span>
        <ul>
            <li><a href="/">・<u>HOME</u></a></li>
            <li><a href="/html/order_list.html">・注文書一覧</a></li>
            <li><a href="/html/delivery_list.html">・納品書一覧</a></li>
            <li><a href="/html/statistics_list.html">・統計情報一覧</a></li>
            <li><a href="/html/customer_register.html">・顧客情報登録</a></li>
        </ul>
    </nav>
    <!-- メインコンテンツ -->
    <div class="main" id="main">
        <!-- A4納品書本体 -->
        <div class="a4-sheet">
            <h1 class="delivery_form_title" style="text-align:center;letter-spacing:0.3em;font-size:2.1em;margin-bottom:32px;">のうひんしょ</h1>
            <div style="display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;gap:40px;">
                <!-- 左側：顧客情報 -->
                <div style="flex:1;min-width:340px;max-width:420px;">
                    <div style="margin-bottom:12px;display:flex;align-items:flex-end;gap:8px;">
                        <span style="font-size:1.15em;line-height:1.2;white-space:nowrap;">お客様ID：</span>
                        <div style="position:relative;flex:1;display:flex;align-items:flex-end;">
                            <input type="text" id="customerId" class="input-meta" name="customerId" style="width:170px;border:none;border-bottom:2px solid #222;font-size:1.15em;vertical-align:bottom;padding:2px 4px 2px 4px;">
                            <button type="button" style="position:absolute;right:-2px;top:0;padding:2px 18px;font-size:1.1em;border:2px solid #222;background:#f7f7f7;">検索</button>
                        </div>
                    </div>
                    <div style="margin-bottom:8px;">
                        <input type="text" id="customerName" class="input-meta" style="width:220px;font-size:1.3em;text-align:center;border:none;background:transparent;letter-spacing:0.3em;" placeholder="○○○○○○○○○○" readonly> 様
                    </div>
                    <div style="margin-bottom:8px;color:#666;font-size:0.95em;">（お客様住所）</div>
                    <div style="margin-bottom:32px;">
                        <textarea id="customerAddress" class="input-meta" style="width:100%;height:38px;resize:none;border:none;border-bottom:1px dotted #888;" readonly></textarea>
                    </div>
                    <div style="border-bottom:1px dotted #888;height:18px;margin-bottom:32px;"></div>
                    <div style="display:flex;align-items:center;margin-top:32px;">
                        <span style="font-size:1.1em;">合計金額：</span>
                        <span style="font-size:2em;color:#222;font-weight:bold;margin:0 12px;">￥<span id="totalAmount">0</span></span>
                        <span style="font-size:1em;color:#666;">(税込)</span>
                    </div>
                </div>
                <!-- 右側：発注情報 -->
                <div style="flex:1;min-width:320px;max-width:400px;">
                    <div style="display:flex;justify-content:space-between;margin-bottom:8px;" id="deliveryNoRow">
                        <span style="font-size:1.1em;">納品書No.</span>
                        <input type="text" class="input-meta" id="deliveryNoInput" style="width:160px;text-align:right;border:none;font-size:1.1em;" placeholder="XXXXXXXXXX" readonly>
                    </div>
                    <div style="display:flex;justify-content:space-between;margin-bottom:18px;">
                        <span style="font-size:1.1em;">納品日：</span>
                        <input type="date" class="input-meta" style="width:160px;text-align:right;border:none;font-size:1.1em;">
                    </div>
                    <div style="font-weight:bold;font-size:1.1em;margin-bottom:2px;">緑橋書店</div>
                    <div style="margin-bottom:2px;">〒537-0022</div>
                    <div style="margin-bottom:2px;">大阪府大阪市東成区</div>
                    <div style="margin-bottom:2px;">中本１丁目５－２１</div>
                    <div style="margin-bottom:2px;">TEL：00-0000-0000</div>
                    <div style="margin-bottom:2px;">FAX：00-0000-0000</div>
                    <div style="margin-bottom:2px;">E-Mail xxxxxxxxxxxxxxxxxxxxxxxx</div>
                </div>
            </div>
            <table class="delivery-table">
                <tr>
                    <th>No.</th>
                    <th>書名</th>
                    <th>数量</th>
                    <th>単価</th>
                    <th>金額</th>
                </tr>
                <tr>
                    <td>1</td>
                    <td><input type="text" name="item1" readonly></td>
                    <td><input type="text" name="qty1" readonly></td>
                    <td><input type="text" name="price1" readonly></td>
                    <td><input type="text" name="amount1" readonly></td>
                </tr>
                <tr>
                    <td>2</td>
                    <td><input type="text" name="item2" readonly></td>
                    <td><input type="text" name="qty2" readonly></td>
                    <td><input type="text" name="price2" readonly></td>
                    <td><input type="text" name="amount2" readonly></td>
                </tr>
                <tr>
                    <td>3</td>
                    <td><input type="text" name="item3" readonly></td>
                    <td><input type="text" name="qty3" readonly></td>
                    <td><input type="text" name="price3" readonly></td>
                    <td><input type="text" name="amount3" readonly></td>
                </tr>
                <tr>
                    <td>4</td>
                    <td><input type="text" name="item4" readonly></td>
                    <td><input type="text" name="qty4" readonly></td>
                    <td><input type="text" name="price4" readonly></td>
                    <td><input type="text" name="amount4" readonly></td>
                </tr>
                <tr>
                    <td>5</td>
                    <td><input type="text" name="item5" readonly></td>
                    <td><input type="text" name="qty5" readonly></td>
                    <td><input type="text" name="price5" readonly></td>
                    <td><input type="text" name="amount5" readonly></td>
                </tr>
                <tr>
                    <td>6</td>
                    <td><input type="text" name="item6" readonly></td>
                    <td><input type="text" name="qty6" readonly></td>
                    <td><input type="text" name="price6" readonly></td>
                    <td><input type="text" name="amount6" readonly></td>
                </tr>
                <tr>
                    <td>7</td>
                    <td><input type="text" name="item7" readonly></td>
                    <td><input type="text" name="qty7" readonly></td>
                    <td><input type="text" name="price7" readonly></td>
                    <td><input type="text" name="amount7" readonly></td>
                </tr>
                <tr>
                    <td>8</td>
                    <td><input type="text" name="item8" readonly></td>
                    <td><input type="text" name="qty8" readonly></td>
                    <td><input type="text" name="price8" readonly></td>
                    <td><input type="text" name="amount8" readonly></td>
                </tr>
                <tr>
                    <td>9</td>
                    <td><input type="text" name="item9" readonly></td>
                    <td><input type="text" name="qty9" readonly></td>
                    <td><input type="text" name="price9" readonly></td>
                    <td><input type="text" name="amount9" readonly></td>
                </tr>
                <tr>
                    <td>10</td>
                    <td><input type="text" name="item10" readonly></td>
                    <td><input type="text" name="qty10" readonly></td>
                    <td><input type="text" name="price10" readonly></td>
                    <td><input type="text" name="amount10" readonly></td>
                </tr>
                <tr>
                    <td>11</td>
                    <td><input type="text" name="item11" readonly></td>
                    <td><input type="text" name="qty11" readonly></td>
                    <td><input type="text" name="price11" readonly></td>
                    <td><input type="text" name="amount11" readonly></td>
                </tr>
                <tr>
                    <td>12</td>
                    <td><input type="text" name="item12" readonly></td>
                    <td><input type="text" name="qty12" readonly></td>
                    <td><input type="text" name="price12" readonly></td>
                    <td><input type="text" name="amount12" readonly></td>
                </tr>
                <tr>
                    <td colspan="4" class="right">小計</td>
                    <td>
                        <input type="text" class="input-total" readonly>
                        <span id="subtotal-unit" style="font-size:0.95em;display:none;">円</span>
                    </td>
                </tr>
                <tr>
                    <td colspan="4" class="right">消費税</td>
                    <td>
                        <input type="text" class="input-total" readonly>
                        <span id="tax-unit" style="font-size:0.95em;display:none;">円</span>
                    </td>
                </tr>
                <tr>
                    <td colspan="4" class="right">合計金額</td>
                    <td>
                        <input type="text" class="input-total" readonly>
                        <span id="total-unit" style="font-size:0.95em;display:none;">円</span>
                    </td>
                </tr>
            </table>
            <div class="delivery-remark-row" style="display:flex;align-items:flex-start;gap:8px;">
                <div style="font-size:16px;min-width:48px;text-align:left;">備考：</div>
                <textarea class="input-meta" style="width:90%;height:40px;resize:none;text-align:left;"></textarea>
            </div>
            <div class="btn-area">
                <button type="button" class="btn" id="saveBtn">保存</button>
                <button type="button" class="btn" id="printBtn" style="display:none;" onclick="window.print()">印刷</button>
            </div>
        </div>
    </div>
    <script src="../js/delivery_form.js"></script>
    <script>
    // サイドバー開閉
    const menuBtn = document.getElementById('menuBtn');
    const sidebar = document.getElementById('sidebar');
    const sidebarBg = document.getElementById('sidebarBg');
    const sidebarClose = document.getElementById('sidebarClose');
    function openSidebar() {
        sidebar.classList.add('open');
        sidebarBg.classList.add('show');
        menuBtn.style.display = 'none';
        sidebarClose.style.display = 'block';
    }
    function closeSidebar() {
        sidebar.classList.remove('open');
        sidebarBg.classList.remove('show');
        menuBtn.style.display = 'block';
        sidebarClose.style.display = 'none';
    }
    menuBtn.onclick = openSidebar;
    sidebarClose.onclick = closeSidebar;
    sidebarBg.onclick = closeSidebar;

    function toggleUnit(input, unitId) {
        const unitSpan = document.getElementById(unitId);
        if (!unitSpan) return;
        if (input.value && input.value.trim() !== '' && input.value !== '0') {
            unitSpan.style.display = '';
        } else {
            unitSpan.style.display = 'none';
        }
    }
    </script>
</body>
</html>